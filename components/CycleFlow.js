import * as d3 from "d3";
import {css} from "@emotion/core";
import React, {Component} from 'react'
import {select} from 'd3-selection'
import {theme} from '../theme';

const imageContainerStyle = css`
    width: 80%;
    height: 80%;
    background-size: contain;
    background-position: 50% 50%;
    background-repeat: no-repeat;
    background-image: url("//localhost:8008/assets/cycle-flow.png");
`;


export const CycleFlowDiagram = () => (
    <div css={imageContainerStyle}>
        {/*<svg width="700" height="500" viewBox="0 0 510 360" fill="none" xmlns="http://www.w3.org/2000/svg">*/}
        {/*    <g filter="url(#filter0_d)">*/}
        {/*        <path*/}
        {/*            d="M445.063 152.047C447.298 153.669 450.425 153.172 452.047 150.937L478.478 114.517C480.1 112.282 479.603 109.156 477.368 107.534C475.133 105.912 472.007 106.409 470.385 108.644L446.89 141.017L414.517 117.522C412.283 115.9 409.156 116.397 407.534 118.632C405.912 120.867 406.409 123.993 408.644 125.615L445.063 152.047ZM427.941 96.611L423.539 98.9826L427.941 96.611ZM423.539 98.9826C434.048 118.488 440.951 135.502 443.062 148.785L452.938 147.215C450.559 132.246 443.012 114.042 432.343 94.2394L423.539 98.9826ZM105.957 148.658C116.33 70.4633 176.645 23.1458 244.268 12.8292C311.927 2.5071 386.042 29.3867 423.539 98.9826L432.343 94.2394C392.516 20.321 313.88 -7.90648 242.76 2.94363C171.603 13.7994 107.109 63.9334 96.0434 147.342L105.957 148.658Z"*/}
        {/*            fill="url(#paint0_linear)"/>*/}
        {/*    </g>*/}
        {/*    <g filter="url(#filter1_d)">*/}
        {/*        <path*/}
        {/*            d="M103.937 199.953C101.702 198.331 98.5753 198.828 96.9534 201.063L70.5219 237.483C68.8999 239.718 69.3968 242.844 71.6317 244.466C73.8666 246.088 76.9932 245.591 78.6151 243.356L102.11 210.983L134.483 234.478C136.717 236.1 139.844 235.603 141.466 233.368C143.088 231.133 142.591 228.007 140.356 226.385L103.937 199.953ZM121.059 255.389L125.461 253.017L121.059 255.389ZM125.461 253.017C114.952 233.512 108.049 216.498 105.938 203.215L96.0619 204.785C98.4408 219.754 105.988 237.958 116.657 257.761L125.461 253.017ZM443.043 203.342C432.67 281.537 372.355 328.854 304.732 339.171C237.073 349.493 162.958 322.613 125.461 253.017L116.657 257.761C156.484 331.679 235.12 359.906 306.24 349.056C377.397 338.201 441.891 288.067 452.957 204.658L443.043 203.342Z"*/}
        {/*            fill="url(#paint1_linear)"/>*/}
        {/*    </g>*/}
        {/*    <path*/}
        {/*        d="M384.559 178.982V188H379.285V162.406H389.27C391.191 162.406 392.879 162.758 394.332 163.461C395.797 164.164 396.922 165.166 397.707 166.467C398.492 167.756 398.885 169.227 398.885 170.879C398.885 173.387 398.023 175.367 396.301 176.82C394.59 178.262 392.217 178.982 389.182 178.982H384.559ZM384.559 174.711H389.27C390.664 174.711 391.725 174.383 392.451 173.727C393.189 173.07 393.559 172.133 393.559 170.914C393.559 169.66 393.189 168.646 392.451 167.873C391.713 167.1 390.693 166.701 389.393 166.678H384.559V174.711ZM412.877 173.744C412.186 173.65 411.576 173.604 411.049 173.604C409.127 173.604 407.867 174.254 407.27 175.555V188H402.189V168.98H406.988L407.129 171.248C408.148 169.502 409.561 168.629 411.365 168.629C411.928 168.629 412.455 168.705 412.947 168.857L412.877 173.744ZM425.832 188C425.598 187.543 425.428 186.975 425.322 186.295C424.092 187.666 422.492 188.352 420.523 188.352C418.66 188.352 417.113 187.812 415.883 186.734C414.664 185.656 414.055 184.297 414.055 182.656C414.055 180.641 414.799 179.094 416.287 178.016C417.787 176.938 419.949 176.393 422.773 176.381H425.111V175.291C425.111 174.412 424.883 173.709 424.426 173.182C423.98 172.654 423.271 172.391 422.299 172.391C421.443 172.391 420.77 172.596 420.277 173.006C419.797 173.416 419.557 173.979 419.557 174.693H414.477C414.477 173.592 414.816 172.572 415.496 171.635C416.176 170.697 417.137 169.965 418.379 169.438C419.621 168.898 421.016 168.629 422.562 168.629C424.906 168.629 426.764 169.221 428.135 170.404C429.518 171.576 430.209 173.229 430.209 175.361V183.605C430.221 185.41 430.473 186.775 430.965 187.701V188H425.832ZM421.631 184.467C422.381 184.467 423.072 184.303 423.705 183.975C424.338 183.635 424.807 183.184 425.111 182.621V179.352H423.213C420.67 179.352 419.316 180.23 419.152 181.988L419.135 182.287C419.135 182.92 419.357 183.441 419.803 183.852C420.248 184.262 420.857 184.467 421.631 184.467ZM442.021 184.256C442.959 184.256 443.721 183.998 444.307 183.482C444.893 182.967 445.197 182.281 445.221 181.426H449.984C449.973 182.715 449.621 183.898 448.93 184.977C448.238 186.043 447.289 186.875 446.082 187.473C444.887 188.059 443.562 188.352 442.109 188.352C439.391 188.352 437.246 187.49 435.676 185.768C434.105 184.033 433.32 181.643 433.32 178.596V178.262C433.32 175.332 434.1 172.994 435.658 171.248C437.217 169.502 439.355 168.629 442.074 168.629C444.453 168.629 446.357 169.309 447.787 170.668C449.229 172.016 449.961 173.814 449.984 176.064H445.221C445.197 175.08 444.893 174.283 444.307 173.674C443.721 173.053 442.947 172.742 441.986 172.742C440.803 172.742 439.906 173.176 439.297 174.043C438.699 174.898 438.4 176.293 438.4 178.227V178.754C438.4 180.711 438.699 182.117 439.297 182.973C439.895 183.828 440.803 184.256 442.021 184.256ZM458.967 164.305V168.98H462.219V172.707H458.967V182.199C458.967 182.902 459.102 183.406 459.371 183.711C459.641 184.016 460.156 184.168 460.918 184.168C461.48 184.168 461.979 184.127 462.412 184.045V187.895C461.416 188.199 460.391 188.352 459.336 188.352C455.773 188.352 453.957 186.553 453.887 182.955V172.707H451.109V168.98H453.887V164.305H458.967ZM470.41 188H465.312V168.98H470.41V188ZM465.014 164.059C465.014 163.297 465.266 162.67 465.77 162.178C466.285 161.686 466.982 161.439 467.861 161.439C468.729 161.439 469.42 161.686 469.936 162.178C470.451 162.67 470.709 163.297 470.709 164.059C470.709 164.832 470.445 165.465 469.918 165.957C469.402 166.449 468.717 166.695 467.861 166.695C467.006 166.695 466.314 166.449 465.787 165.957C465.271 165.465 465.014 164.832 465.014 164.059ZM482.521 184.256C483.459 184.256 484.221 183.998 484.807 183.482C485.393 182.967 485.697 182.281 485.721 181.426H490.484C490.473 182.715 490.121 183.898 489.43 184.977C488.738 186.043 487.789 186.875 486.582 187.473C485.387 188.059 484.062 188.352 482.609 188.352C479.891 188.352 477.746 187.49 476.176 185.768C474.605 184.033 473.82 181.643 473.82 178.596V178.262C473.82 175.332 474.6 172.994 476.158 171.248C477.717 169.502 479.855 168.629 482.574 168.629C484.953 168.629 486.857 169.309 488.287 170.668C489.729 172.016 490.461 173.814 490.484 176.064H485.721C485.697 175.08 485.393 174.283 484.807 173.674C484.221 173.053 483.447 172.742 482.486 172.742C481.303 172.742 480.406 173.176 479.797 174.043C479.199 174.898 478.9 176.293 478.9 178.227V178.754C478.9 180.711 479.199 182.117 479.797 182.973C480.395 183.828 481.303 184.256 482.521 184.256ZM502.139 188.352C499.35 188.352 497.076 187.496 495.318 185.785C493.572 184.074 492.699 181.795 492.699 178.947V178.455C492.699 176.545 493.068 174.84 493.807 173.34C494.545 171.828 495.588 170.668 496.936 169.859C498.295 169.039 499.842 168.629 501.576 168.629C504.178 168.629 506.223 169.449 507.711 171.09C509.211 172.73 509.961 175.057 509.961 178.068V180.143H497.85C498.014 181.385 498.506 182.381 499.326 183.131C500.158 183.881 501.207 184.256 502.473 184.256C504.43 184.256 505.959 183.547 507.061 182.129L509.557 184.924C508.795 186.002 507.764 186.846 506.463 187.455C505.162 188.053 503.721 188.352 502.139 188.352ZM501.559 172.742C500.551 172.742 499.73 173.082 499.098 173.762C498.477 174.441 498.078 175.414 497.902 176.68H504.969V176.275C504.945 175.15 504.641 174.283 504.055 173.674C503.469 173.053 502.637 172.742 501.559 172.742Z"*/}
        {/*        fill="white"/>*/}
        {/*    <path*/}
        {/*        d="M19.6562 164.406V181.264C19.6562 184.064 18.7773 186.279 17.0195 187.908C15.2734 189.537 12.8828 190.352 9.84766 190.352C6.85938 190.352 4.48633 189.561 2.72852 187.979C0.970703 186.396 0.0742188 184.223 0.0390625 181.457V164.406H5.3125V181.299C5.3125 182.975 5.71094 184.199 6.50781 184.973C7.31641 185.734 8.42969 186.115 9.84766 186.115C12.8125 186.115 14.3184 184.557 14.3652 181.439V164.406H19.6562ZM28.3223 170.98L28.4805 173.178C29.8398 171.479 31.6621 170.629 33.9473 170.629C35.9629 170.629 37.4629 171.221 38.4473 172.404C39.4316 173.588 39.9355 175.357 39.959 177.713V190H34.8789V177.836C34.8789 176.758 34.6445 175.979 34.1758 175.498C33.707 175.006 32.9277 174.76 31.8379 174.76C30.4082 174.76 29.3359 175.369 28.6211 176.588V190H23.541V170.98H28.3223ZM43.0352 180.35C43.0352 177.385 43.6973 175.023 45.0215 173.266C46.3574 171.508 48.1797 170.629 50.4883 170.629C52.3398 170.629 53.8691 171.32 55.0762 172.703V163H60.1738V190H55.5859L55.3398 187.979C54.0742 189.561 52.4453 190.352 50.4531 190.352C48.2148 190.352 46.416 189.473 45.0566 187.715C43.709 185.945 43.0352 183.49 43.0352 180.35ZM48.1152 180.719C48.1152 182.5 48.4258 183.865 49.0469 184.814C49.668 185.764 50.5703 186.238 51.7539 186.238C53.3242 186.238 54.4316 185.576 55.0762 184.252V176.746C54.4434 175.422 53.3477 174.76 51.7891 174.76C49.3398 174.76 48.1152 176.746 48.1152 180.719ZM72.8652 190.352C70.0762 190.352 67.8027 189.496 66.0449 187.785C64.2988 186.074 63.4258 183.795 63.4258 180.947V180.455C63.4258 178.545 63.7949 176.84 64.5332 175.34C65.2715 173.828 66.3145 172.668 67.6621 171.859C69.0215 171.039 70.5684 170.629 72.3027 170.629C74.9043 170.629 76.9492 171.449 78.4375 173.09C79.9375 174.73 80.6875 177.057 80.6875 180.068V182.143H68.5762C68.7402 183.385 69.2324 184.381 70.0527 185.131C70.8848 185.881 71.9336 186.256 73.1992 186.256C75.1562 186.256 76.6855 185.547 77.7871 184.129L80.2832 186.924C79.5215 188.002 78.4902 188.846 77.1895 189.455C75.8887 190.053 74.4473 190.352 72.8652 190.352ZM72.2852 174.742C71.2773 174.742 70.457 175.082 69.8242 175.762C69.2031 176.441 68.8047 177.414 68.6289 178.68H75.6953V178.275C75.6719 177.15 75.3672 176.283 74.7812 175.674C74.1953 175.053 73.3633 174.742 72.2852 174.742ZM94.2754 175.744C93.584 175.65 92.9746 175.604 92.4473 175.604C90.5254 175.604 89.2656 176.254 88.668 177.555V190H83.5879V170.98H88.3867L88.5273 173.248C89.5469 171.502 90.959 170.629 92.7637 170.629C93.3262 170.629 93.8535 170.705 94.3457 170.857L94.2754 175.744ZM107.037 184.744C107.037 184.123 106.727 183.637 106.105 183.285C105.496 182.922 104.512 182.6 103.152 182.318C98.6289 181.369 96.3672 179.447 96.3672 176.553C96.3672 174.865 97.0645 173.459 98.459 172.334C99.8652 171.197 101.699 170.629 103.961 170.629C106.375 170.629 108.303 171.197 109.744 172.334C111.197 173.471 111.924 174.947 111.924 176.764H106.844C106.844 176.037 106.609 175.439 106.141 174.971C105.672 174.49 104.939 174.25 103.943 174.25C103.088 174.25 102.426 174.443 101.957 174.83C101.488 175.217 101.254 175.709 101.254 176.307C101.254 176.869 101.518 177.326 102.045 177.678C102.584 178.018 103.486 178.316 104.752 178.574C106.018 178.82 107.084 179.102 107.951 179.418C110.635 180.402 111.977 182.107 111.977 184.533C111.977 186.268 111.232 187.674 109.744 188.752C108.256 189.818 106.334 190.352 103.979 190.352C102.385 190.352 100.967 190.07 99.7246 189.508C98.4941 188.934 97.5273 188.154 96.8242 187.17C96.1211 186.174 95.7695 185.102 95.7695 183.953H100.586C100.633 184.855 100.967 185.547 101.588 186.027C102.209 186.508 103.041 186.748 104.084 186.748C105.057 186.748 105.789 186.566 106.281 186.203C106.785 185.828 107.037 185.342 107.037 184.744ZM121.346 166.305V170.98H124.598V174.707H121.346V184.199C121.346 184.902 121.48 185.406 121.75 185.711C122.02 186.016 122.535 186.168 123.297 186.168C123.859 186.168 124.357 186.127 124.791 186.045V189.895C123.795 190.199 122.77 190.352 121.715 190.352C118.152 190.352 116.336 188.553 116.266 184.955V174.707H113.488V170.98H116.266V166.305H121.346ZM138.449 190C138.215 189.543 138.045 188.975 137.939 188.295C136.709 189.666 135.109 190.352 133.141 190.352C131.277 190.352 129.73 189.812 128.5 188.734C127.281 187.656 126.672 186.297 126.672 184.656C126.672 182.641 127.416 181.094 128.904 180.016C130.404 178.938 132.566 178.393 135.391 178.381H137.729V177.291C137.729 176.412 137.5 175.709 137.043 175.182C136.598 174.654 135.889 174.391 134.916 174.391C134.061 174.391 133.387 174.596 132.895 175.006C132.414 175.416 132.174 175.979 132.174 176.693H127.094C127.094 175.592 127.434 174.572 128.113 173.635C128.793 172.697 129.754 171.965 130.996 171.438C132.238 170.898 133.633 170.629 135.18 170.629C137.523 170.629 139.381 171.221 140.752 172.404C142.135 173.576 142.826 175.229 142.826 177.361V185.605C142.838 187.41 143.09 188.775 143.582 189.701V190H138.449ZM134.248 186.467C134.998 186.467 135.689 186.303 136.322 185.975C136.955 185.635 137.424 185.184 137.729 184.621V181.352H135.83C133.287 181.352 131.934 182.23 131.77 183.988L131.752 184.287C131.752 184.92 131.975 185.441 132.42 185.852C132.865 186.262 133.475 186.467 134.248 186.467ZM151.404 170.98L151.562 173.178C152.922 171.479 154.744 170.629 157.029 170.629C159.045 170.629 160.545 171.221 161.529 172.404C162.514 173.588 163.018 175.357 163.041 177.713V190H157.961V177.836C157.961 176.758 157.727 175.979 157.258 175.498C156.789 175.006 156.01 174.76 154.92 174.76C153.49 174.76 152.418 175.369 151.703 176.588V190H146.623V170.98H151.404ZM166.117 180.35C166.117 177.385 166.779 175.023 168.104 173.266C169.439 171.508 171.262 170.629 173.57 170.629C175.422 170.629 176.951 171.32 178.158 172.703V163H183.256V190H178.668L178.422 187.979C177.156 189.561 175.527 190.352 173.535 190.352C171.297 190.352 169.498 189.473 168.139 187.715C166.791 185.945 166.117 183.49 166.117 180.35ZM171.197 180.719C171.197 182.5 171.508 183.865 172.129 184.814C172.75 185.764 173.652 186.238 174.836 186.238C176.406 186.238 177.514 185.576 178.158 184.252V176.746C177.525 175.422 176.43 174.76 174.871 174.76C172.422 174.76 171.197 176.746 171.197 180.719Z"*/}
        {/*        fill="white"/>*/}
        {/*    <defs>*/}
        {/*        <filter id="filter0_d" x="92.0434" y="0.701569" width="391.388" height="160.299"*/}
        {/*                filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">*/}
        {/*            <feFlood flood-opacity="0" result="BackgroundImageFix"/>*/}
        {/*            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>*/}
        {/*            <feOffset dy="4"/>*/}
        {/*            <feGaussianBlur stdDeviation="2"/>*/}
        {/*            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>*/}
        {/*            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>*/}
        {/*            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>*/}
        {/*        </filter>*/}
        {/*        <filter id="filter1_d" x="65.5682" y="199" width="391.388" height="160.299" filterUnits="userSpaceOnUse"*/}
        {/*                color-interpolation-filters="sRGB">*/}
        {/*            <feFlood flood-opacity="0" result="BackgroundImageFix"/>*/}
        {/*            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>*/}
        {/*            <feOffset dy="4"/>*/}
        {/*            <feGaussianBlur stdDeviation="2"/>*/}
        {/*            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>*/}
        {/*            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>*/}
        {/*            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>*/}
        {/*        </filter>*/}
        {/*        <linearGradient id="paint0_linear" x1="405.038" y1="213.939" x2="511.576" y2="-88.6494"*/}
        {/*                        gradientUnits="userSpaceOnUse">*/}
        {/*            <stop offset="0.153116" stop-color="#F80090"/>*/}
        {/*            <stop offset="0.859966" stop-color="#57008E"/>*/}
        {/*        </linearGradient>*/}
        {/*        <linearGradient id="paint1_linear" x1="143.962" y1="138.061" x2="37.4238" y2="440.649"*/}
        {/*                        gradientUnits="userSpaceOnUse">*/}
        {/*            <stop offset="0.153116" stop-color="#F80090"/>*/}
        {/*            <stop offset="0.859966" stop-color="#57008E"/>*/}
        {/*        </linearGradient>*/}
        {/*    </defs>*/}
        {/*</svg>*/}


    </div>
);


// extends Component {
//     constructor(props){
//         super(props)
//         this.createDiagram = this.createDiagram.bind(this);
//      }

//      componentDidMount() {
//         this.createDiagram();
//      }

//      componentDidUpdate() {
//         this.createDiagram();
//      }

//      createDiagram() {
//         const node = this.node

//         // const arcGenerator = d3.arc();
//         // const pathData = arcGenerator({
//         //     startAngle: -0.5 * Math.PI,
//         //     endAngle: 0.5 * Math.PI,
//         //     innerRadius: 200,
//         //     outerRadius: 230
//         //   });

//         var path2 = d3.path()
//         path2.arc(0, 0, 200, -0.5 * Math.PI, 0.5 * Math.PI)


//         const grads = select(node).select("defs").append("radialGradient")
//             .attr("gradientUnits", "userSpaceOnUse")
//             .attr("cx", 22)
//             .attr("cy", 0)
//             .attr("r", "43%")
//             .attr("id", function(d, i) { return "grad" + i; });

//         grads.append("stop").attr("offset", "1").style("stop-color", theme.colors.primary);
//         grads.append("stop").attr("offset", "1").style("stop-color", theme.colors.secondary);

//         select(node)
//             .append("path")
//             .attr("d", path2.toString())
//             .attr("stroke-width","20")
//             // .attr("stroke","#43A2CA")
//             .attr("transform", "translate(" + 500 / 2 + "," + 500 / 2 +")")
//             .attr("fill", function(d, i) { return "url(#grad" + i + ")"; })
//             .attr("marker-start","url(#chevron)")
//             .attr("marker-end","url(#chevron)")
//         }            

//      render() {
//         return <svg ref={node => this.node = node}
//         width={500} height={500}>
//             <defs>
//                 <marker id="chevron"
//                     viewBox="0 0 20 20" refX="10" refY="10" 
//                     markerUnits="userSpaceOnUse"
//                     markerWidth="20" markerHeight="20"
//                     orient="auto" fill="white">
//                        <path d="M0 0 10 0 20 10 10 20 0 20 10 10Z" />
//                 </marker>   
//             </defs>
//         </svg>
//      }
// }
